(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{48623:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return O}});var n=r(85893),s=r(809),a=r.n(s),c=r(30266),i=r(20347),l=r(67294),o=r(61187),d=r(56077),u=(r(49186),r(41664)),h=r(87462),p=r(21005),Z=r(27601),m=r(86010),x=(r(45697),r(92063)),v=r(28935),f=r(12519),j=r(92248),g=r(70885),w=r(65382);function N(e){var t=e.children,r=e.className,n=e.content,s=(0,m.Z)("content",r),a=(0,v.Z)(N,e),c=(0,f.Z)(N,e);return l.createElement(c,(0,h.Z)({},a,{className:s}),j.kK(t)?n:t)}N.handledProps=["as","children","className","content"],N.propTypes={};var y=N;function C(e){var t=e.children,r=e.className,n=e.content,s=(0,m.Z)("header",r),a=(0,v.Z)(C,e),c=(0,f.Z)(C,e);return l.createElement(c,(0,h.Z)({},a,{className:s}),j.kK(t)?n:t)}C.handledProps=["as","children","className","content"],C.propTypes={},C.create=(0,g.u5)(C,(function(e){return{content:e}}));var b=C,S=r(97029);function k(e){var t=e.children,r=e.className,n=e.content,s=(0,m.Z)("content",r),a=(0,v.Z)(k,e),c=(0,f.Z)(k,e);return l.createElement(c,(0,h.Z)({},a,{className:s}),j.kK(t)?n:t)}k.handledProps=["as","children","className","content"],k.propTypes={},k.defaultProps={as:"li"},k.create=(0,g.u5)(k,(function(e){return{content:e}}));var E=k;function G(e){var t=e.children,r=e.className,n=e.items,s=(0,m.Z)("list",r),a=(0,v.Z)(G,e),c=(0,f.Z)(G,e);return l.createElement(c,(0,h.Z)({},a,{className:s}),j.kK(t)?(0,S.Z)(n,E.create):t)}G.handledProps=["as","children","className","items"],G.propTypes={},G.defaultProps={as:"ul"},G.create=(0,g.u5)(G,(function(e){return{items:e}}));var P=G,H=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).handleDismiss=function(e){var r=t.props.onDismiss;r&&r(e,t.props)},t}return(0,p.Z)(t,e),t.prototype.render=function(){var e=this.props,r=e.attached,n=e.children,s=e.className,a=e.color,c=e.compact,i=e.content,o=e.error,d=e.floating,u=e.header,p=e.hidden,N=e.icon,C=e.info,S=e.list,k=e.negative,E=e.onDismiss,G=e.positive,H=e.size,_=e.success,T=e.visible,K=e.warning,V=(0,m.Z)("ui",a,H,(0,x.lG)(c,"compact"),(0,x.lG)(o,"error"),(0,x.lG)(d,"floating"),(0,x.lG)(p,"hidden"),(0,x.lG)(N,"icon"),(0,x.lG)(C,"info"),(0,x.lG)(k,"negative"),(0,x.lG)(G,"positive"),(0,x.lG)(_,"success"),(0,x.lG)(T,"visible"),(0,x.lG)(K,"warning"),(0,x.sU)(r,"attached"),"message",s),D=E&&l.createElement(w.Z,{name:"close",onClick:this.handleDismiss}),A=(0,v.Z)(t,this.props),B=(0,f.Z)(t,this.props);return j.kK(n)?l.createElement(B,(0,h.Z)({},A,{className:V}),D,w.Z.create(N,{autoGenerateKey:!1}),(!(0,Z.Z)(u)||!(0,Z.Z)(i)||!(0,Z.Z)(S))&&l.createElement(y,null,b.create(u,{autoGenerateKey:!1}),P.create(S,{autoGenerateKey:!1}),(0,g.BU)(i,{autoGenerateKey:!1}))):l.createElement(B,(0,h.Z)({},A,{className:V}),D,n)},t}(l.Component);H.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],H.propTypes={},H.Content=y,H.Header=b,H.List=P,H.Item=E;var _=r(95712),T=r(48237),K=r(55770),V=r(19369),D=r(44256),A=r(99794),B=r(1300),I=function(e){var t=e.registrationStatus,r=e.voteStatus,s=e.allcandidates,h=l.useState(!1),p=(0,i.Z)(h,2),Z=p[0],m=p[1],x=l.useState(!1),v=(0,i.Z)(x,2),f=v[0],j=v[1],g=l.useState(!1),w=(0,i.Z)(g,2),N=w[0],y=w[1],C=l.useState(""),b=(0,i.Z)(C,2),S=b[0],k=b[1],E=l.useState(""),G=(0,i.Z)(E,2),P=G[0],I=G[1],O=l.useState(""),R=(0,i.Z)(O,2),U=R[0],z=R[1],X=l.useState(!1),Y=(0,i.Z)(X,2),F=Y[0],L=Y[1],M=l.useState(!1),q=(0,i.Z)(M,2),J=q[0],Q=q[1],W=l.useState(!1),$=(0,i.Z)(W,2),ee=$[0],te=$[1],re=function(){var e=(0,c.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),m(!0),j(!1),y(!1),e.prev=4,e.next=7,o.Z.eth.getAccounts();case 7:return r=e.sent,e.next=10,d.Z.methods.Register(S,P,U).send({from:r[0]});case 10:m(!1),y("Your registration submitted for review "),k(""),I(""),z(""),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),j(e.t0.message),m(!1);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=(0,c.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),Q(!1),te(!1),e.prev=3,e.next=6,o.Z.eth.getAccounts();case 6:return r=e.sent,e.next=9,d.Z.methods.vote(t).send({from:r[0]});case 9:L(!1),te("Your vote is complete"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),L(!1),Q(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return(0,n.jsx)("div",{style:{color:"white",backgroundColor:"#3CB3FB",height:"100vh"},children:(0,n.jsxs)(_.Z,{children:[(0,n.jsx)("center",{style:{paddingTop:"20px"},children:(0,n.jsx)("h1",{children:"Voting Page"})}),(0,n.jsx)(u.default,{href:"/",children:(0,n.jsx)(T.Z,{style:{marginTop:"80px"},primary:!0,children:"Back to HOME"})}),(0,n.jsx)(K.Z,{style:{paddingTop:"50px"},children:(0,n.jsxs)(V.Z,{children:[(0,n.jsxs)(D.Z,{width:8,children:[(0,n.jsx)("h1",{children:(0,n.jsx)("center",{children:"Registration"})}),t?(0,n.jsxs)(A.Z,{onSubmit:re,error:f,success:N,children:[(0,n.jsx)(A.Z.Input,{label:"Voter Card Number",placeholder:"Enter voter card number",value:S,onChange:function(e){return k(e.target.value)}}),(0,n.jsx)(A.Z.Input,{label:"Adhar Card Number",placeholder:"Enter adhar card number",value:P,onChange:function(e){return I(e.target.value)}}),(0,n.jsx)(A.Z.Input,{label:"Valid wallet address",placeholder:"Enter valid wallet address",value:U,onChange:function(e){return z(e.target.value)}}),(0,n.jsx)(T.Z,{loading:Z,primary:!0,children:"Submit"}),(0,n.jsxs)(H,{error:!0,children:[(0,n.jsx)(H.Header,{children:"Opps!!"}),(0,n.jsx)("p",{children:f})]}),(0,n.jsxs)(H,{success:!0,children:[(0,n.jsx)(H.Header,{children:"Success!!"}),(0,n.jsx)("p",{children:N})]})]}):(0,n.jsxs)(H,{negative:!0,children:[(0,n.jsx)(H.Header,{children:"Registration status: stop"}),(0,n.jsx)("p",{children:"registration will start from 10a.m."})]})]}),(0,n.jsxs)(D.Z,{width:8,children:[(0,n.jsx)("center",{children:(0,n.jsx)("h1",{children:"Vote"})}),r?(0,n.jsxs)("div",{children:[J&&(0,n.jsxs)(H,{negative:!0,children:[(0,n.jsx)(H.Header,{children:"Opps!!"}),(0,n.jsx)("p",{children:J})]}),ee&&(0,n.jsxs)(H,{success:!0,children:[(0,n.jsx)(H.Header,{children:"Success!!"}),(0,n.jsx)("p",{children:ee})]}),(0,n.jsxs)(B.Z,{celled:!0,children:[(0,n.jsx)(B.Z.Header,{children:(0,n.jsxs)(B.Z.Row,{children:[(0,n.jsx)(B.Z.HeaderCell,{children:"Candidate Name"}),(0,n.jsx)(B.Z.HeaderCell,{children:"Party Name"}),(0,n.jsx)(B.Z.HeaderCell,{children:"Vote"})]})}),(0,n.jsx)(B.Z.Body,{children:s.map((function(e,t){return(0,n.jsxs)(B.Z.Row,{children:[(0,n.jsx)(B.Z.Cell,{children:e[0]}),(0,n.jsx)(B.Z.Cell,{children:e[1]}),(0,n.jsx)(B.Z.Cell,{children:(0,n.jsx)(T.Z,{loading:F,positive:!0,onClick:function(){return ne(t)},children:"Vote"})})]},t)}))})]})]}):(0,n.jsxs)(H,{negative:!0,children:[(0,n.jsx)(H.Header,{children:"Voting status: stop"}),(0,n.jsx)("p",{children:"voting will start after registration"})]})]})]})})]})})};I.getInitialProps=(0,c.Z)(a().mark((function e(){var t,r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.methods.registerStart().call();case 2:return t=e.sent,e.next=5,d.Z.methods.voteStart().call();case 5:return r=e.sent,e.next=8,d.Z.methods.getAllcandidates().call();case 8:return n=e.sent,e.abrupt("return",{registrationStatus:t,voteStatus:r,allcandidates:n});case 10:case"end":return e.stop()}}),e)})));var O=I},64034:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/User/userPage",function(){return r(48623)}])}},function(e){e.O(0,[774,106,128,892,665,888,179],(function(){return t=64034,e(e.s=t);var t}));var t=e.O();_N_E=t}]);