(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[779],{23388:function(e,n,t){"use strict";t.r(n);var r=t(85893),s=t(809),a=t.n(s),i=t(30266),c=t(20347),l=t(67294),o=t(61187),d=t(56077),u=(t(49186),t(95712)),h=t(48237),p=t(55770),x=t(19369),Z=t(44256),f=t(99794),m=t(1300),g=t(11163),j=t(41664),v=function(e){var n=e.allcandidates,t=e.registrationStatus,s=e.voteStatus,v=e.allApplicants,C=e.totalApprovers,A=(0,g.useRouter)(),w=l.useState(""),y=(0,c.Z)(w,2),k=y[0],S=y[1],b=l.useState(""),P=(0,c.Z)(b,2),_=P[0],H=P[1],N=l.useState(!1),R=(0,c.Z)(N,2),E=R[0],T=R[1],B=l.useState(!1),V=(0,c.Z)(B,2),z=V[0],I=V[1],O=l.useState(!1),X=(0,c.Z)(O,2),D=X[0],F=X[1],M=l.useState(!1),q=(0,c.Z)(M,2),G=(q[0],q[1],l.useState(!1)),J=(0,c.Z)(G,2),K=J[0],L=J[1],Q=function(){var e=(0,i.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),T(!0),e.next=4,o.Z.eth.getAccounts();case 4:return t=e.sent,e.next=7,d.Z.methods.addCandidate(k,_).send({from:t[0]});case 7:T(!1),S(""),H(""),A.push("/Admin/adminPage");case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),U=function(){var e=(0,i.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,o.Z.eth.getAccounts();case 3:return n=e.sent,e.next=6,d.Z.methods.startRegistration().send({from:n[0]});case 6:I(!1),A.push("/Admin/adminPage");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,i.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,o.Z.eth.getAccounts();case 3:return n=e.sent,e.next=6,d.Z.methods.startVoteing().send({from:n[0]});case 6:F(!1),A.push("/Admin/adminPage");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=(0,i.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,o.Z.eth.getAccounts();case 3:return n=e.sent,e.next=6,d.Z.methods.stopRegistration().send({from:n[0]});case 6:I(!1),A.push("/Admin/adminPage");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,i.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,o.Z.eth.getAccounts();case 3:return n=e.sent,e.next=6,d.Z.methods.stopVoteing().send({from:n[0]});case 6:F(!1),A.push("/Admin/adminPage");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,i.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,o.Z.eth.getAccounts();case 3:return t=e.sent,e.next=6,d.Z.methods.approveApplication(n).send({from:t[0]});case 6:L(!1),A.push("/Admin/adminPage");case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,r.jsx)("div",{style:{color:"white",backgroundColor:"#3CB3FB"},children:(0,r.jsxs)(u.Z,{children:[(0,r.jsx)("center",{style:{paddingTop:"20px"},children:(0,r.jsx)("h1",{children:"Admin"})}),(0,r.jsx)(j.default,{href:"/",children:(0,r.jsx)(h.Z,{primary:!0,children:"Back to HOME"})}),t?(0,r.jsx)(h.Z,{color:"red",loading:z,onClick:Y,size:"large",style:{marginTop:"80px"},children:"Stop Registration"}):(0,r.jsx)(h.Z,{loading:z,onClick:U,style:{marginTop:"80px"},positive:!0,size:"large",children:"start Registration"}),s?(0,r.jsx)(h.Z,{size:"large",color:"red",loading:D,onClick:$,children:"Stop Voting"}):(0,r.jsx)(h.Z,{style:{marginTop:"80px"},positive:!0,size:"large",loading:D,onClick:W,children:"start voting"}),(0,r.jsx)(p.Z,{style:{paddingTop:"50px"},children:(0,r.jsxs)(x.Z,{children:[(0,r.jsxs)(Z.Z,{width:8,children:[(0,r.jsx)("h1",{children:(0,r.jsx)("center",{children:"Add Candidate"})}),(0,r.jsxs)(f.Z,{onSubmit:Q,children:[(0,r.jsx)(f.Z.Input,{label:"Name",value:k,onChange:function(e){return S(e.target.value)},placeholder:"Enter candidate name"}),(0,r.jsx)(f.Z.Input,{label:"Party name",value:_,onChange:function(e){return H(e.target.value)},placeholder:"Enter party name"}),(0,r.jsx)(h.Z,{primary:!0,loading:E,children:"Submit"})]})]}),(0,r.jsxs)(Z.Z,{width:8,children:[(0,r.jsx)("center",{children:(0,r.jsx)("h1",{children:"Vote Result"})}),(0,r.jsxs)(m.Z,{celled:!0,children:[(0,r.jsx)(m.Z.Header,{children:(0,r.jsxs)(m.Z.Row,{children:[(0,r.jsx)(m.Z.HeaderCell,{children:"Candidate Name"}),(0,r.jsx)(m.Z.HeaderCell,{children:"Party Name"}),(0,r.jsx)(m.Z.HeaderCell,{children:"Vote Count"})]})}),(0,r.jsx)(m.Z.Body,{children:n.map((function(e,n){return(0,r.jsxs)(m.Z.Row,{children:[(0,r.jsx)(m.Z.Cell,{children:e[0]}),(0,r.jsx)(m.Z.Cell,{children:e[1]}),(0,r.jsx)(m.Z.Cell,{children:e[2]})]},n)}))})]})]})]})}),(0,r.jsx)("h2",{children:"Applications"}),(0,r.jsxs)("h3",{children:["Total approve voter = ",C]}),(0,r.jsxs)(m.Z,{celled:!0,style:{paddingBottom:"90px"},children:[(0,r.jsx)(m.Z.Header,{children:(0,r.jsxs)(m.Z.Row,{children:[(0,r.jsx)(m.Z.HeaderCell,{children:"Voter Card Number"}),(0,r.jsx)(m.Z.HeaderCell,{children:"Adhar Card Number"}),(0,r.jsx)(m.Z.HeaderCell,{children:"Address"}),(0,r.jsx)(m.Z.HeaderCell,{children:"Approve"})]})}),(0,r.jsx)(m.Z.Body,{children:v.map((function(e,n){return(0,r.jsxs)(m.Z.Row,{disabled:e[3],children:[(0,r.jsx)(m.Z.Cell,{children:e[0]}),(0,r.jsx)(m.Z.Cell,{children:e[1]}),(0,r.jsx)(m.Z.Cell,{children:e[2]}),(0,r.jsx)(m.Z.Cell,{children:(0,r.jsx)(h.Z,{loading:K,disabled:e[3],onClick:function(){return ee(n)},positive:!0,children:"Approve"})})]},n)}))})]})]})})};v.getInitialProps=(0,i.Z)(a().mark((function e(){var n,t,r,s,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.methods.getAllcandidates().call();case 2:return n=e.sent,e.next=5,d.Z.methods.registerStart().call();case 5:return t=e.sent,e.next=8,d.Z.methods.voteStart().call();case 8:return r=e.sent,e.next=11,d.Z.methods.getAllapplications().call();case 11:return s=e.sent,e.next=14,d.Z.methods.totalApprovers().call();case 14:return i=e.sent,console.log(i),e.abrupt("return",{allcandidates:n,registrationStatus:t,voteStatus:r,allApplicants:s,totalApprovers:i});case 17:case"end":return e.stop()}}),e)}))),n.default=v},15661:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Admin/adminPage",function(){return t(23388)}])},11163:function(e,n,t){e.exports=t(34651)}},function(e){e.O(0,[774,106,128,892,665,888,179],(function(){return n=15661,e(e.s=n);var n}));var n=e.O();_N_E=n}]);